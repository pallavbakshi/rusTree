<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Apply Functions - RusTree Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">RusTree Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/pallavbakshi/rusTree" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/pallavbakshi/rusTree/edit/master/docs/src/library_usage/apply_functions.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="apply-functions"><a class="header" href="#apply-functions">Apply Functions</a></h1>
<p>Apply functions are a powerful feature in rustree that allow you to execute custom operations on files during directory traversal. This guide provides comprehensive documentation on how to use each apply function type and their associated filtering patterns.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Apply functions work by processing file contents or executing external commands on selected files. The results are then displayed in a dedicated "File Contents" section of the output. You can control which files are processed using include and exclude patterns.</p>
<h3 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use rustree::{RustreeLibConfig, MetadataOptions, FilteringOptions, ApplyFunction, BuiltInFunction};

let config = RustreeLibConfig {
    metadata: MetadataOptions {
        apply_function: Some(ApplyFunction::BuiltIn(BuiltInFunction::Cat)),
        ..Default::default()
    },
    filtering: FilteringOptions {
        apply_include_patterns: Some(vec!["*.rs".to_string()]),
        ..Default::default()
    },
    ..Default::default()
};
<span class="boring">}</span></code></pre></pre>
<h2 id="built-in-functions"><a class="header" href="#built-in-functions">Built-in Functions</a></h2>
<h3 id="cat-function"><a class="header" href="#cat-function">Cat Function</a></h3>
<p>The <code>Cat</code> function displays the complete contents of text files, similar to the Unix <code>cat</code> command.</p>
<h4 id="usage-example"><a class="header" href="#usage-example">Usage Example</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use rustree::config::metadata::ApplyFunction;
use rustree::{BuiltInFunction, MetadataOptions};

let metadata_opts = MetadataOptions {
    apply_function: Some(ApplyFunction::BuiltIn(BuiltInFunction::Cat)),
    ..Default::default()
};
<span class="boring">}</span></code></pre></pre>
<h4 id="command-line-usage"><a class="header" href="#command-line-usage">Command Line Usage</a></h4>
<pre><code class="language-bash"># Display contents of all Rust files
rustree --apply-function cat --apply-include "*.rs"

# Display contents of files in src directory
rustree --apply-function cat --apply-include "src/**"

# Display contents of specific file
rustree --apply-function cat --apply-include "src/main.rs"
</code></pre>
<h4 id="output-format"><a class="header" href="#output-format">Output Format</a></h4>
<pre><code>├── src/
│   ├── main.rs
│   └── lib.rs

--- File Contents ---

=== src/main.rs ===
fn main() {
    println!("Hello, world!");
}

=== src/lib.rs ===
pub mod utils;
pub use utils::*;
</code></pre>
<h3 id="countpluses-function"><a class="header" href="#countpluses-function">CountPluses Function</a></h3>
<p>The <code>CountPluses</code> function counts the number of '+' characters in text files. This is useful for analyzing diffs or counting specific symbols.</p>
<h4 id="usage-example-1"><a class="header" href="#usage-example-1">Usage Example</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use rustree::config::metadata::ApplyFunction;
use rustree::{BuiltInFunction, MetadataOptions};

let metadata_opts = MetadataOptions {
    apply_function: Some(ApplyFunction::BuiltIn(BuiltInFunction::CountPluses)),
    ..Default::default()
};
<span class="boring">}</span></code></pre></pre>
<h4 id="command-line-usage-1"><a class="header" href="#command-line-usage-1">Command Line Usage</a></h4>
<pre><code class="language-bash"># Count plus signs in all text files
rustree --apply-function count-pluses --apply-include "*.txt"

# Count plus signs in specific files
rustree --apply-function count-pluses --apply-include "diff.patch|*.diff"
</code></pre>
<h4 id="output-format-1"><a class="header" href="#output-format-1">Output Format</a></h4>
<pre><code>=== changes.diff ===
Plus count: 42
</code></pre>
<h2 id="external-functions"><a class="header" href="#external-functions">External Functions</a></h2>
<p>External functions allow you to execute custom shell commands on files and capture their output.</p>
<h3 id="usage-example-2"><a class="header" href="#usage-example-2">Usage Example</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use rustree::config::metadata::ApplyFunction;
use rustree::{ExternalFunction, MetadataOptions};

let external_fn = ExternalFunction {
    command: "wc".to_string(),
    args: vec!["-l".to_string()], // Count lines
};

let metadata_opts = MetadataOptions {
    apply_function: Some(ApplyFunction::External(external_fn)),
    ..Default::default()
};
<span class="boring">}</span></code></pre></pre>
<h3 id="command-line-usage-2"><a class="header" href="#command-line-usage-2">Command Line Usage</a></h3>
<pre><code class="language-bash"># Count lines in all source files using wc -l
rustree --apply-function "wc -l" --apply-include "src/**/*.rs"

# Get file info using the file command
rustree --apply-function "file" --apply-include "**/*"

# Custom analysis with grep
rustree --apply-function "grep -c TODO" --apply-include "**/*.rs"
</code></pre>
<h3 id="security-considerations"><a class="header" href="#security-considerations">Security Considerations</a></h3>
<ul>
<li>External functions execute shell commands with the permissions of the current user</li>
<li>Always validate and sanitize external command inputs</li>
<li>Be cautious when processing untrusted files or directories</li>
<li>Consider using built-in functions when possible for better security</li>
</ul>
<h2 id="pattern-matching"><a class="header" href="#pattern-matching">Pattern Matching</a></h2>
<p>Apply functions use sophisticated pattern matching to determine which files to process. This system supports both include and exclude patterns with glob syntax.</p>
<h3 id="include-patterns-apply_include_patterns"><a class="header" href="#include-patterns-apply_include_patterns">Include Patterns (<code>apply_include_patterns</code>)</a></h3>
<p>Include patterns specify which files should have the apply function executed on them. If include patterns are specified, <strong>only</strong> files matching these patterns will be processed.</p>
<h4 id="examples"><a class="header" href="#examples">Examples</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Single pattern
apply_include_patterns: Some(vec!["*.rs".to_string()])

// Multiple patterns
apply_include_patterns: Some(vec![
    "src/**/*.rs".to_string(),
    "tests/**/*.rs".to_string(),
])

// Pattern with pipe separator (OR logic)
apply_include_patterns: Some(vec!["*.rs|*.toml|*.md".to_string()])
<span class="boring">}</span></code></pre></pre>
<h3 id="exclude-patterns-apply_exclude_patterns"><a class="header" href="#exclude-patterns-apply_exclude_patterns">Exclude Patterns (<code>apply_exclude_patterns</code>)</a></h3>
<p>Exclude patterns specify files that should be skipped, even if they match include patterns. Exclude patterns take precedence over include patterns.</p>
<h4 id="examples-1"><a class="header" href="#examples-1">Examples</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Exclude test files
apply_exclude_patterns: Some(vec!["**/test*.rs".to_string()])

// Exclude multiple file types
apply_exclude_patterns: Some(vec![
    "**/*.tmp".to_string(),
    "**/*.bak".to_string(),
])

// Complex exclusion with pipe separator
apply_exclude_patterns: Some(vec!["*.tmp|*.bak|**/target/**".to_string()])
<span class="boring">}</span></code></pre></pre>
<h3 id="pattern-evaluation-order"><a class="header" href="#pattern-evaluation-order">Pattern Evaluation Order</a></h3>
<ol>
<li><strong>Include Check</strong>: If include patterns are specified, the file must match at least one include pattern</li>
<li><strong>Exclude Check</strong>: If the file matches any exclude pattern, it is skipped</li>
<li><strong>Apply Function</strong>: If both checks pass, the apply function is executed on the file</li>
</ol>
<h3 id="pattern-types"><a class="header" href="#pattern-types">Pattern Types</a></h3>
<h4 id="exact-match"><a class="header" href="#exact-match">Exact Match</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Matches exactly "src/main.rs"
"src/main.rs"
<span class="boring">}</span></code></pre></pre>
<h4 id="wildcard-patterns"><a class="header" href="#wildcard-patterns">Wildcard Patterns</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Matches all .rs files in src directory
"src/*.rs"

// Matches all files with any extension in src
"src/*.*"
<span class="boring">}</span></code></pre></pre>
<h4 id="recursive-patterns"><a class="header" href="#recursive-patterns">Recursive Patterns</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Matches all .rs files anywhere under src (recursive)
"src/**/*.rs"

// Matches all files anywhere in the tree
"**/*"
<span class="boring">}</span></code></pre></pre>
<h4 id="directory-patterns"><a class="header" href="#directory-patterns">Directory Patterns</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Matches files directly in cli directory
"src/cli/*"

// Matches all files recursively under cli
"src/cli/**"
<span class="boring">}</span></code></pre></pre>
<h4 id="basename-patterns"><a class="header" href="#basename-patterns">Basename Patterns</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Matches any file named "Cargo.toml" anywhere
"Cargo.toml"

// Matches any .md file anywhere
"*.md"
<span class="boring">}</span></code></pre></pre>
<h3 id="advanced-pattern-examples"><a class="header" href="#advanced-pattern-examples">Advanced Pattern Examples</a></h3>
<h4 id="complex-project-structure"><a class="header" href="#complex-project-structure">Complex Project Structure</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let config = RustreeLibConfig {
    metadata: MetadataOptions {
        apply_function: Some(ApplyFunction::BuiltIn(BuiltInFunction::Cat)),
        ..Default::default()
    },
    filtering: FilteringOptions {
        // Include all source files
        apply_include_patterns: Some(vec![
            "src/**/*.rs".to_string(),
            "tests/**/*.rs".to_string(),
            "examples/**/*.rs".to_string(),
        ]),
        // Exclude generated and temporary files
        apply_exclude_patterns: Some(vec![
            "**/target/**".to_string(),
            "**/*.tmp".to_string(),
            "**/.*".to_string(), // Hidden files
        ]),
        ..Default::default()
    },
    ..Default::default()
};
<span class="boring">}</span></code></pre></pre>
<h4 id="conditional-processing"><a class="header" href="#conditional-processing">Conditional Processing</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Process only CLI-related files
FilteringOptions {
    apply_include_patterns: Some(vec!["src/cli/**/*.rs".to_string()]),
    ..Default::default()
}

// Process all files except tests and documentation
FilteringOptions {
    apply_include_patterns: Some(vec!["src/**/*.rs".to_string()]),
    apply_exclude_patterns: Some(vec![
        "**/test*.rs".to_string(),
        "**/*_test.rs".to_string(),
        "**/tests/**".to_string(),
    ]),
    ..Default::default()
}
<span class="boring">}</span></code></pre></pre>
<h3 id="case-sensitivity"><a class="header" href="#case-sensitivity">Case Sensitivity</a></h3>
<p>Pattern matching respects the <code>case_insensitive_filter</code> option:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>FilteringOptions {
    apply_include_patterns: Some(vec!["SRC/**/*.RS".to_string()]),
    case_insensitive_filter: true, // Will match "src/**/*.rs"
    ..Default::default()
}
<span class="boring">}</span></code></pre></pre>
<h3 id="working-directory-considerations"><a class="header" href="#working-directory-considerations">Working Directory Considerations</a></h3>
<p>Pattern matching is always relative to the walk root directory, not the current working directory. This ensures consistent behavior regardless of where the command is executed from.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// When scanning /home/user/project, these patterns are equivalent:
// Pattern: "src/*.rs"
// Matches: /home/user/project/src/main.rs, /home/user/project/src/lib.rs

// Absolute patterns are also supported:
// Pattern: "/home/user/project/src/*.rs"
// Matches: /home/user/project/src/main.rs, /home/user/project/src/lib.rs
<span class="boring">}</span></code></pre></pre>
<h2 id="error-handling"><a class="header" href="#error-handling">Error Handling</a></h2>
<p>Apply functions handle various error conditions gracefully:</p>
<h3 id="file-access-errors"><a class="header" href="#file-access-errors">File Access Errors</a></h3>
<ul>
<li><strong>Unreadable files</strong>: Skipped with a note in the output</li>
<li><strong>Permission denied</strong>: Logged as an error, processing continues</li>
<li><strong>Binary files</strong>: Built-in functions skip binary files automatically</li>
</ul>
<h3 id="external-command-errors"><a class="header" href="#external-command-errors">External Command Errors</a></h3>
<ul>
<li><strong>Command not found</strong>: Error message displayed in output</li>
<li><strong>Command failure</strong>: Exit code and stderr captured and displayed</li>
<li><strong>Timeout</strong>: Commands that run too long are terminated</li>
</ul>
<h3 id="pattern-errors"><a class="header" href="#pattern-errors">Pattern Errors</a></h3>
<ul>
<li><strong>Invalid glob patterns</strong>: Configuration error returned immediately</li>
<li><strong>Empty pattern lists</strong>: Treated as "match nothing" for includes, "exclude nothing" for excludes</li>
</ul>
<h2 id="performance-considerations"><a class="header" href="#performance-considerations">Performance Considerations</a></h2>
<h3 id="pattern-optimization"><a class="header" href="#pattern-optimization">Pattern Optimization</a></h3>
<ul>
<li>Use specific patterns rather than overly broad ones</li>
<li>Prefer directory-specific patterns over global recursive patterns when possible</li>
<li>Consider using exclude patterns to filter out large directories early</li>
</ul>
<h3 id="built-in-vs-external-functions"><a class="header" href="#built-in-vs-external-functions">Built-in vs External Functions</a></h3>
<ul>
<li><strong>Built-in functions</strong> are faster and more secure</li>
<li><strong>External functions</strong> provide more flexibility but have higher overhead</li>
<li>For simple operations, prefer built-in functions</li>
</ul>
<h3 id="memory-usage"><a class="header" href="#memory-usage">Memory Usage</a></h3>
<ul>
<li>Large files are processed one at a time to minimize memory usage</li>
<li>External command output is captured and buffered</li>
<li>Binary files are automatically skipped to prevent memory issues</li>
</ul>
<h2 id="complete-examples"><a class="header" href="#complete-examples">Complete Examples</a></h2>
<h3 id="development-workflow"><a class="header" href="#development-workflow">Development Workflow</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Show all source code for code review
let review_config = RustreeLibConfig {
    metadata: MetadataOptions {
        apply_function: Some(ApplyFunction::BuiltIn(BuiltInFunction::Cat)),
        ..Default::default()
    },
    filtering: FilteringOptions {
        apply_include_patterns: Some(vec![
            "src/**/*.rs".to_string(),
            "*.toml".to_string(),
            "*.md".to_string(),
        ]),
        apply_exclude_patterns: Some(vec![
            "**/target/**".to_string(),
            "**/*.lock".to_string(),
        ]),
        ..Default::default()
    },
    ..Default::default()
};
<span class="boring">}</span></code></pre></pre>
<h3 id="documentation-generation"><a class="header" href="#documentation-generation">Documentation Generation</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Extract all TODO comments
let todo_config = RustreeLibConfig {
    metadata: MetadataOptions {
        apply_function: Some(ApplyFunction::External(ExternalFunction {
            command: "grep".to_string(),
            args: vec!["-n".to_string(), "TODO".to_string()],
        })),
        ..Default::default()
    },
    filtering: FilteringOptions {
        apply_include_patterns: Some(vec!["**/*.rs".to_string()]),
        apply_exclude_patterns: Some(vec!["**/target/**".to_string()]),
        ..Default::default()
    },
    ..Default::default()
};
<span class="boring">}</span></code></pre></pre>
<h3 id="quality-analysis"><a class="header" href="#quality-analysis">Quality Analysis</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Count lines of code
let loc_config = RustreeLibConfig {
    metadata: MetadataOptions {
        apply_function: Some(ApplyFunction::External(ExternalFunction {
            command: "wc".to_string(),
            args: vec!["-l".to_string()],
        })),
        ..Default::default()
    },
    filtering: FilteringOptions {
        apply_include_patterns: Some(vec![
            "src/**/*.rs".to_string(),
            "tests/**/*.rs".to_string(),
        ]),
        ..Default::default()
    },
    ..Default::default()
};
<span class="boring">}</span></code></pre></pre>
<h2 id="api-reference"><a class="header" href="#api-reference">API Reference</a></h2>
<h3 id="core-types"><a class="header" href="#core-types">Core Types</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Apply function types
pub enum ApplyFunction {
    BuiltIn(BuiltInFunction),
    External(ExternalFunction),
}

// Built-in function types
pub enum BuiltInFunction {
    Cat,
    CountPluses,
}

// External function configuration
pub struct ExternalFunction {
    pub command: String,
    pub args: Vec&lt;String&gt;,
}
<span class="boring">}</span></code></pre></pre>
<h3 id="configuration-options"><a class="header" href="#configuration-options">Configuration Options</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Metadata options for apply functions
pub struct MetadataOptions {
    pub apply_function: Option&lt;ApplyFunction&gt;,
    // ... other metadata options
}

// Filtering options for pattern matching
pub struct FilteringOptions {
    pub apply_include_patterns: Option&lt;Vec&lt;String&gt;&gt;,
    pub apply_exclude_patterns: Option&lt;Vec&lt;String&gt;&gt;,
    pub case_insensitive_filter: bool,
    // ... other filtering options
}
<span class="boring">}</span></code></pre></pre>
<p>This comprehensive guide covers all aspects of using apply functions in rustree. For more advanced usage and integration examples, see the <a href="examples.html">Examples</a> section.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../library_usage/concepts.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../library_usage/examples.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../library_usage/concepts.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../library_usage/examples.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
