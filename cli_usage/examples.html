<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Examples - RusTree Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">RusTree Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/pallavbakshi/rusTree" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/pallavbakshi/rusTree/edit/master/docs/src/cli_usage/examples.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<p>Here are some practical examples of how to use <code>rustree</code> from the command line.</p>
<ol>
<li>
<p><strong>Basic tree of the current directory:</strong></p>
<pre><code class="language-bash">rustree
</code></pre>
</li>
<li>
<p><strong>Tree of a specific directory, showing hidden files and up to depth 2:</strong></p>
<pre><code class="language-bash">rustree --include-hidden --depth 2 /var/log
# or using short flags
rustree -a -L 2 /var/log
</code></pre>
</li>
<li>
<p><strong>List files in <code>~/Documents</code>, showing sizes and modification times, sorted by modification time (newest first using <code>-t</code> and <code>-r</code>):</strong></p>
<pre><code class="language-bash">rustree -s -D -t -r ~/Documents
# or using long flags
rustree --show-size-bytes --show-last-modified -t --reverse-sort ~/Documents
# or using --sort-by
rustree --show-size-bytes --show-last-modified --sort-by mtime --reverse-sort ~/Documents
</code></pre>
</li>
<li>
<p><strong>Analyze a source code project, showing line counts and word counts, sorted by line count (largest first):</strong></p>
<pre><code class="language-bash">rustree --calculate-lines --calculate-words --sort-by lines -r ./my_project_src
</code></pre>
<p><strong>Enhanced Summary Report</strong>: The output now includes aggregated totals in the summary:</p>
<pre><code>src/
├── [L:  364] [W:1498] lib.rs
├── [L:   63] [W: 243] main.rs
└── core/
    ├── [L:  119] [W: 264] mod.rs
    └── [L:  200] [W: 450] util.rs

2 directories, 4 files, 746 total lines, 2,455 total words
</code></pre>
</li>
<li>
<p><strong>List directories only in the current path:</strong></p>
<pre><code class="language-bash">rustree --directory-only
# or using short flag
rustree -d
</code></pre>
</li>
<li>
<p><strong>List directories only in <code>./src</code>, showing sizes, up to depth 1:</strong></p>
<pre><code class="language-bash">rustree --directory-only --show-size-bytes --depth 1 ./src
# or using short flags
rustree -d -s -L 1 ./src
</code></pre>
</li>
<li>
<p><strong>Output the tree structure as Markdown:</strong></p>
<pre><code class="language-bash">rustree --output-format markdown &gt; project_structure.md
</code></pre>
</li>
<li>
<p><strong>Output tree without the summary report at the end:</strong></p>
<pre><code class="language-bash">rustree --no-summary-report ./my_project
</code></pre>
<p>This will display the tree structure without the summary line that normally shows directory/file counts and metadata totals like "4 directories, 6 files, 1,234 total lines".</p>
</li>
<li>
<p><strong>Generate clean markdown output without summary for documentation:</strong></p>
<pre><code class="language-bash">rustree --output-format markdown --no-summary-report ./src &gt; code_structure.md
</code></pre>
<p>Perfect for including in documentation where you want just the tree structure without file counts.</p>
</li>
<li>
<p><strong>Sort by modification time (oldest first using <code>-t</code>):</strong></p>
</li>
</ol>
<pre><code class="language-bash">rustree -t ./my_project
# or using --sort-by
rustree --sort-by mtime ./my_project
</code></pre>
<ol start="11">
<li><strong>List files in directory order (unsorted using <code>-U</code>):</strong></li>
</ol>
<pre><code class="language-bash">rustree -U ./my_project
# or using long flag
rustree --unsorted ./my_project
# or using --sort-by
rustree --sort-by none ./my_project
</code></pre>
<p>11b. <strong>Show full paths for all files (similar to tree -f):</strong></p>
<pre><code class="language-bash">rustree --full-path ./my_project
# or using short flag
rustree -f ./my_project
</code></pre>
<p><strong>Example output:</strong></p>
<pre><code>my_project/
├── README.md
├── src/
│   ├── src/main.rs
│   ├── src/lib.rs
│   └── src/utils/
│       └── src/utils/helper.rs
└── tests/
    └── tests/integration_test.rs

3 directories, 5 files
</code></pre>
<p>Notice how nested files show their full relative path from the scan root (e.g., <code>src/main.rs</code> instead of just <code>main.rs</code>).</p>
<p>11c. <strong>Combine full-path with other metadata for detailed analysis:</strong></p>
<pre><code class="language-bash">rustree -f -s --calculate-lines ./my_project
</code></pre>
<p><strong>Example output:</strong></p>
<pre><code>my_project/
├── [   1024B] [L:  50] README.md
├── src/
│   ├── [   2048B] [L: 150] src/main.rs
│   ├── [   1536B] [L: 100] src/lib.rs
│   └── src/utils/
│       └── [    512B] [L:  25] src/utils/helper.rs
└── tests/
    └── [   1280B] [L:  75] tests/integration_test.rs

3 directories, 4 files, 400 total lines, 6.25 KB total
</code></pre>
<p>This combines full paths with size and line count information, making it easy to identify specific files and their characteristics.</p>
<p>11d. <strong>Full-path output in Markdown format:</strong></p>
<pre><code class="language-bash">rustree -f --output-format markdown ./docs &gt; file_structure.md
</code></pre>
<p><strong>Generated Markdown:</strong></p>
<pre><code class="language-markdown"># docs

* README.md
* guides/
  * guides/installation.md
  * guides/usage.md
  * guides/advanced/
    * guides/advanced/configuration.md
* api/
  * api/reference.md

__3 directories, 5 files total__
</code></pre>
<p>Perfect for documentation where you want to show the complete file paths in a structured format.</p>
<ol start="12">
<li>
<p><strong>Apply the <code>count-pluses</code> function to files and sort by its custom output:</strong></p>
<pre><code class="language-bash">rustree --apply-function count-pluses --sort-by custom ./config_files
</code></pre>
<p><em>(This counts '+' characters in each file and displays the count in metadata).</em></p>
</li>
<li>
<p><strong>Display file contents after the tree structure using the <code>cat</code> function:</strong></p>
<pre><code class="language-bash">rustree --apply-function cat ./small_project
</code></pre>
<p>This will first display the directory tree, then show the full contents of each file in the project. Useful for getting a complete view of small projects or configuration directories.</p>
</li>
<li>
<p><strong>Combine <code>cat</code> function with filtering to show contents of specific files:</strong></p>
<pre><code class="language-bash">rustree --apply-function cat --filter-include "*.md|*.txt" ./docs
</code></pre>
<p>Shows the tree structure and then displays the contents of only Markdown and text files.</p>
</li>
<li>
<p><strong>Export formatted query for external LLM tools:</strong></p>
<pre><code class="language-bash">rustree --llm-export "What are the main components in this project?" ./src
</code></pre>
<p>This outputs a specially formatted query that can be piped to external LLM tools:</p>
<pre><code class="language-bash">rustree --llm-export "Analyze the architecture" | claude-cli
rustree --llm-export "Security review" | ollama run mistral
rustree --llm-export "Code quality assessment" &gt; analysis-prompt.txt
</code></pre>
</li>
<li>
<p><strong>Direct LLM integration (requires API keys):</strong></p>
<pre><code class="language-bash"># Basic LLM query with OpenAI (default provider)
rustree --llm-ask "What's the architecture of this project?"

# With specific provider and model
rustree --llm-ask "Analyze this codebase structure" \
  --llm-provider anthropic \
  --llm-model claude-3-sonnet

# With custom settings for focused analysis
rustree --llm-ask "Brief security review" \
  --llm-temperature 0.3 \
  --llm-max-tokens 500
</code></pre>
</li>
<li>
<p><strong>LLM analysis with tree filtering:</strong></p>
<pre><code class="language-bash"># Analyze only source code structure
rustree --llm-ask "What patterns do you see?" \
  --include "*.rs" --exclude "**/target/**" \
  --depth 3

# Focus on documentation structure
rustree --llm-ask "How is documentation organized?" \
  --include "*.md" --dirs-only

# Analyze project architecture at high level
rustree --llm-ask "Describe the overall architecture" \
  --depth 2 --dirs-only --size
</code></pre>
</li>
<li>
<p><strong>LLM setup and configuration:</strong></p>
<pre><code class="language-bash"># Generate .env template for API keys
rustree --llm-generate-env &gt; .env
# Then edit .env file to add your API keys

# Use with environment variables
export OPENAI_API_KEY="your-key-here"
rustree --llm-ask "Analyze this project"

# Override with CLI argument
rustree --llm-ask "Quick analysis" --llm-api-key "your-key"

# Use different providers
rustree --llm-ask "Code review" --llm-provider anthropic
rustree --llm-ask "Performance analysis" --llm-provider cohere
rustree --llm-ask "Multi-model analysis" --llm-provider openrouter
</code></pre>
</li>
<li>
<p><strong>Advanced LLM analysis examples:</strong></p>
<pre><code class="language-bash"># Architecture analysis with context
rustree --llm-ask "What architectural patterns do you see? Suggest improvements." \
  --depth 4 --dirs-only --size --llm-temperature 0.2

# Security-focused analysis
rustree --llm-ask "Are there any potential security concerns in this structure?" \
  --include "*.rs" --include "*.toml" --include "*.yml" \
  --llm-provider anthropic --llm-model claude-3-sonnet

# Performance optimization suggestions
rustree --llm-ask "What could be optimized for better performance?" \
  --size --file-stats --calculate-lines \
  --llm-max-tokens 1000

# Code organization review
rustree --llm-ask "How would you reorganize this codebase?" \
  --include "*.rs" --depth 3 \
  --llm-temperature 0.7 --llm-max-tokens 1500
</code></pre>
</li>
<li>
<p><strong>Combining LLM with metadata analysis:</strong></p>
<pre><code class="language-bash"># Analyze large files and complexity
rustree --llm-ask "Which files seem overly complex based on size and line count?" \
  --size --calculate-lines --sort-by size --reverse-sort

# Module organization analysis
rustree --llm-ask "How well are the modules organized?" \
  --apply-function dir-stats --dirs-only --depth 2

# Documentation coverage analysis
rustree --llm-ask "What documentation is missing?" \
  --include "*.md" --include "*.rs" --calculate-words
</code></pre>
</li>
<li>
<p><strong>LLM request preview and debugging:</strong></p>
<pre><code class="language-bash"># Preview what would be sent to the LLM (no API call, no cost)
rustree --llm-ask "What's the architecture of this project?" --dry-run

# Human-readable markdown format for better readability
rustree --llm-ask "Analyze the code organization" \
  --dry-run --human-friendly

# Cost estimation for complex queries
rustree --llm-ask "Detailed security analysis with recommendations" \
  --llm-max-tokens 3000 --dry-run

# Debug prompt structure before sending
rustree --llm-ask "Custom analysis question" \
  --include "*.rs" --depth 3 --size --dry-run --human-friendly

# Verify API configuration without making requests
rustree --llm-ask "Test question" --llm-provider anthropic \
  --llm-model claude-3-haiku --dry-run
</code></pre>
</li>
<li>
<p><strong>LLM workflow examples:</strong></p>
<pre><code class="language-bash"># Step 1: Preview and refine your question
rustree --llm-ask "Initial analysis" --dry-run --human-friendly

# Step 2: Export for review
rustree --llm-export "Refined analysis question" &gt; project-analysis.txt

# Step 3: Direct analysis with verified prompt
rustree --llm-ask "Focus on error handling patterns" \
  --include "*.rs" --llm-temperature 0.3

# Step 4: Compare with external tool
rustree --llm-export "Compare with previous analysis" | your-llm-tool
</code></pre>
</li>
<li>
<p><strong>List only Rust source files (<code>*.rs</code>):</strong></p>
<pre><code class="language-bash">rustree --filter-include "*.rs" ./my_project
# or using short flag
rustree -P "*.rs" ./my_project
</code></pre>
</li>
<li>
<p><strong>List only Markdown (<code>*.md</code>) or text (<code>*.txt</code>) files:</strong></p>
<pre><code class="language-bash">rustree --filter-include "*.md|*.txt" ./notes
# or equivalently
rustree -P "*.md" -P "*.txt" ./notes
</code></pre>
</li>
<li>
<p><strong>List only directories named <code>build</code> or <code>target</code>:</strong>
(Note: <code>-P</code> or <code>--filter-include</code> matches files and directories. A trailing <code>/</code> makes it specific to directories.)</p>
<pre><code class="language-bash">rustree --filter-include "build/|target/" ./my_project
# or using short flag
rustree -P "build/|target/" ./my_project
</code></pre>
</li>
<li>
<p><strong>List all Markdown files, including hidden ones (e.g., in <code>.github/</code>):</strong></p>
<pre><code class="language-bash">rustree --include-hidden --filter-include "*.md"
# or using short flags
rustree -a -P "*.md"
</code></pre>
</li>
<li>
<p><strong>List files starting with <code>test_</code> followed by any single character and then <code>.py</code>:</strong></p>
<pre><code class="language-bash">rustree --filter-include "test_?.py" ./tests
# or using short flag
rustree -P "test_?.py" ./tests
</code></pre>
</li>
<li>
<p><strong>List all files within any subdirectory named <code>docs</code>:</strong></p>
<pre><code class="language-bash">rustree --filter-include "docs/**" ./project_root
# or using short flag
rustree -P "docs/**" ./project_root
</code></pre>
</li>
<li>
<p><strong>Ignore all <code>.log</code> files:</strong></p>
<pre><code class="language-bash">rustree --filter-exclude "*.log" ./my_project
# or using short flag
rustree -I "*.log" ./my_project
</code></pre>
</li>
<li>
<p><strong>Ignore the <code>target/</code> directory and all <code>*.tmp</code> files:</strong></p>
<pre><code class="language-bash">rustree --filter-exclude "target/" --filter-exclude "*.tmp" ./my_project
# or using short flags
rustree -I "target/" -I "*.tmp" ./my_project
</code></pre>
</li>
<li>
<p><strong>Use <code>.gitignore</code> files to filter the output:</strong></p>
<pre><code class="language-bash">rustree --use-gitignore-rules ./my_git_repo
# or using the deprecated alias: rustree --gitignore ./my_git_repo
</code></pre>
</li>
<li>
<p><strong>Use a custom ignore file in addition to (or instead of) <code>.gitignore</code>:</strong></p>
<pre><code class="language-bash">rustree --gitignore-file ./.my_custom_ignores ./my_project
</code></pre>
<p>If you also want standard <code>.gitignore</code> behavior, add <code>--use-gitignore-rules</code> (or its alias <code>--gitignore</code>):</p>
<pre><code class="language-bash">rustree --use-gitignore-rules --gitignore-file ./.my_custom_ignores ./my_project
</code></pre>
</li>
<li>
<p><strong>List only <code>.TXT</code> files, case-insensitively (matching <code>file.txt</code>, <code>FILE.TXT</code>, etc.):</strong></p>
<pre><code class="language-bash">rustree --filter-include "*.TXT" --case-insensitive-filter ./my_project
# or using short flag
rustree -P "*.TXT" --case-insensitive-filter ./my_project
</code></pre>
</li>
<li>
<p><strong>Ignore all files ending with <code>.bak</code>, case-insensitively, using <code>-I</code>:</strong></p>
<pre><code class="language-bash">rustree --filter-exclude "*.bak" --case-insensitive-filter ./my_project
# or using short flag
rustree -I "*.bak" --case-insensitive-filter ./my_project
</code></pre>
</li>
<li>
<p><strong>Sort files by version (e.g., <code>file-1.0.0</code>, <code>file-1.2.0</code>, <code>file-2.0.0</code>):</strong></p>
<pre><code class="language-bash">rustree -v ./my_scripts
# or using --sort-by
rustree --sort-by version ./my_scripts
</code></pre>
</li>
<li>
<p><strong>Sort files by change time (ctime) and display change times:</strong></p>
<pre><code class="language-bash">rustree -c -D ./my_project
# or using --sort-by
rustree --sort-by ctime --show-last-modified ./my_project
</code></pre>
<p>This will sort by ctime (oldest first). The <code>-D</code> (or <code>--show-last-modified</code>) flag, when combined with <code>-c</code> (or <code>--sort-by ctime</code>), will display these ctimes.</p>
</li>
<li>
<p><strong>Sort files by creation time (crtime/btime), newest first:</strong>
(Note: Creation time might not be available on all filesystems or OS versions.)</p>
<pre><code class="language-bash">rustree --sort-by crtime -r ./my_photos
</code></pre>
</li>
<li>
<p><strong>Prune empty directories from the output:</strong>
Imagine a project with many empty <code>build/</code> or <code>log/</code> subdirectories.</p>
<pre><code class="language-bash">rustree --prune-empty-directories ./my_project
# or using the alias
rustree --prune ./my_project
</code></pre>
<p>This will list <code>my_project</code>, but any directories within it (or nested deeper) that become empty after other filters (like <code>-P</code>, <code>-I</code>, or gitignore) are applied will not be shown.</p>
</li>
<li>
<p><strong>Prune empty directories while listing only <code>.rs</code> files:</strong></p>
<pre><code class="language-bash">rustree -P "*.rs" --prune ./my_rust_project
</code></pre>
<p>In this case, if a directory <code>src/utils/</code> contains only <code>helper.txt</code> and <code>mod.rs</code>, after <code>-P "*.rs"</code> is applied, <code>helper.txt</code> is filtered out. If <code>src/utils/</code> now only effectively contains <code>mod.rs</code>, it's not empty. However, if <code>src/empty_module/</code> contained only <code>old_code.txt</code>, it would first be filtered by <code>-P</code>, then <code>src/empty_module/</code> would become empty and subsequently pruned by <code>--prune</code>.</p>
</li>
<li>
<p><strong>List directories before files for better readability:</strong></p>
<pre><code class="language-bash">rustree --dirs-first ./my_project
</code></pre>
<p>This will show all directories before any files at each level, making the structure more readable by grouping similar types together.</p>
</li>
<li>
<p><strong>List files before directories:</strong></p>
<pre><code class="language-bash">rustree --files-first ./my_project
</code></pre>
<p>This will show all files before any directories at each level.</p>
</li>
<li>
<p><strong>Combine directory ordering with different sort modes:</strong></p>
<pre><code class="language-bash"># Directories first, sorted by modification time
rustree --dirs-first --sort-by mtime ./my_project

# Files first, sorted by size (largest first)
rustree --files-first --sort-by size -r ./my_project

# Directories first with version sorting
rustree --dirs-first -v ./releases
</code></pre>
</li>
<li>
<p><strong>Directory ordering with metadata and filtering:</strong></p>
<pre><code class="language-bash"># Show directories first with sizes and modification times, only for .rs files and directories
rustree --dirs-first -s -D -P "*.rs|*/" ./src

# Files first, showing line counts for text files
rustree --files-first --calculate-lines -P "*.txt|*.md|*/" ./docs
</code></pre>
</li>
</ol>
<h2 id="apply-function-examples"><a class="header" href="#apply-function-examples">Apply Function Examples</a></h2>
<ol start="43">
<li>
<p><strong>Get directory statistics showing file count, directory count, and total size:</strong></p>
<pre><code class="language-bash">rustree --apply-function dir-stats --show-size-bytes ./my_project
</code></pre>
<p>This shows statistics like <code>[F: "5f,2d,1024B"]</code> for each directory, indicating 5 files, 2 subdirectories, and 1024 bytes total.</p>
</li>
<li>
<p><strong>Count files in each directory:</strong></p>
<pre><code class="language-bash">rustree --apply-function count-files ./project
</code></pre>
<p>Shows <code>[F: "3"]</code> for directories containing 3 files.</p>
</li>
<li>
<p><strong>Calculate total size of files in each directory:</strong></p>
<pre><code class="language-bash">rustree --apply-function size-total --show-size-bytes ./downloads
</code></pre>
<p>Note: <code>--show-size-bytes</code> must be enabled for size-total to work properly.</p>
</li>
<li>
<p><strong>Apply function only to specific directories using patterns:</strong></p>
<pre><code class="language-bash"># Only apply dir-stats to src directories
rustree --apply-function dir-stats --apply-include "src*" ./workspace

# Apply count-files to all directories except target and build
rustree --apply-function count-files --apply-exclude "target/*" --apply-exclude "build/*" ./project
</code></pre>
</li>
<li>
<p><strong>Use pattern files for complex filtering:</strong></p>
<p>Create a file <code>include-patterns.txt</code>:</p>
<pre><code># Include source directories
src/*
lib/*
# Include documentation
docs/*
</code></pre>
<p>Create a file <code>exclude-patterns.txt</code>:</p>
<pre><code># Exclude build artifacts
*target*
*build*
# Exclude temporary files
*.tmp
</code></pre>
<p>Then use:</p>
<pre><code class="language-bash">rustree --apply-function dir-stats \
        --apply-include-from ./include-patterns.txt \
        --apply-exclude-from ./exclude-patterns.txt ./project
</code></pre>
</li>
<li>
<p><strong>Combine cat function with selective application:</strong></p>
<pre><code class="language-bash"># Show contents of only configuration files
rustree --apply-function cat --apply-include "*.toml" --apply-include "*.yml" ./config

# Show contents excluding sensitive files
rustree --apply-function cat --apply-exclude "*secret*" --apply-exclude "*key*" ./scripts
</code></pre>
</li>
</ol>
<h2 id="file-based-pattern-filtering-examples"><a class="header" href="#file-based-pattern-filtering-examples">File-based Pattern Filtering Examples</a></h2>
<p>The <code>--filter-include-from</code> and <code>--filter-exclude-from</code> options allow you to maintain pattern lists in separate files, which is especially useful for complex projects or when sharing filter configurations across teams.</p>
<ol start="56">
<li>
<p><strong>Use file-based include patterns:</strong></p>
<p>Create a file <code>include-patterns.txt</code>:</p>
<pre><code># Include only source code files
*.rs
*.go
*.js
*.ts

# Include configuration files
*.toml
*.yml
*.yaml

# Include documentation
*.md
README*
</code></pre>
<p>Then use:</p>
<pre><code class="language-bash">rustree --filter-include-from ./include-patterns.txt ./project
</code></pre>
</li>
<li>
<p><strong>Use file-based exclude patterns:</strong></p>
<p>Create a file <code>exclude-patterns.txt</code>:</p>
<pre><code># Build artifacts
target/
build/
dist/

# Dependencies
node_modules/
vendor/

# Temporary files
*.tmp
*.log
*.swp
.DS_Store
</code></pre>
<p>Then use:</p>
<pre><code class="language-bash">rustree --filter-exclude-from ./exclude-patterns.txt ./project
</code></pre>
</li>
<li>
<p><strong>Combine file-based and command-line patterns:</strong></p>
<pre><code class="language-bash"># Use patterns from file and add additional CLI patterns
rustree --filter-include-from ./src-patterns.txt \
        --filter-include "*.md" \
        --filter-exclude "*.test.js" ./project
</code></pre>
</li>
<li>
<p><strong>Multiple pattern files:</strong></p>
<pre><code class="language-bash"># Load patterns from multiple files
rustree --filter-include-from ./core-patterns.txt \
        --filter-include-from ./docs-patterns.txt \
        --filter-exclude-from ./ignore-patterns.txt ./workspace
</code></pre>
</li>
<li>
<p><strong>Project-specific filtering setup:</strong></p>
<p>Create a <code>.rustree</code> directory in your project with pattern files:</p>
<pre><code class="language-bash">mkdir .rustree
echo "*.rs" &gt; .rustree/rust-files.txt
echo "*.md" &gt; .rustree/docs.txt
echo "target/" &gt; .rustree/ignore.txt
</code></pre>
<p>Then use consistently across the team:</p>
<pre><code class="language-bash"># Show only Rust files
rustree --filter-include-from .rustree/rust-files.txt ./

# Show documentation structure
rustree --filter-include-from .rustree/docs.txt --dirs-first ./

# Full tree excluding build artifacts
rustree --filter-exclude-from .rustree/ignore.txt ./
</code></pre>
</li>
<li>
<p><strong>Combine with gitignore patterns:</strong></p>
<pre><code class="language-bash"># Use gitignore AND custom exclude patterns
rustree --use-gitignore-rules \
        --filter-exclude-from ./additional-ignores.txt ./project

# Override gitignore with specific includes
rustree --use-gitignore-rules \
        --filter-include-from ./force-include.txt ./project
</code></pre>
</li>
<li>
<p><strong>Pattern file with comments for documentation:</strong></p>
<p>Create a well-documented <code>analysis-patterns.txt</code>:</p>
<pre><code># Code Analysis Patterns
# =====================

# Core source files
src/**/*.rs
lib/**/*.rs

# Test files (for separate analysis)
tests/**/*.rs
benches/**/*.rs

# Configuration that affects behavior
Cargo.toml
.cargo/config.toml
rust-toolchain.toml

# Exclude examples and docs from analysis
# (uncomment if needed)
# !examples/
# !docs/
</code></pre>
<p>Use for consistent code analysis:</p>
<pre><code class="language-bash">rustree --filter-include-from ./analysis-patterns.txt \
        --calculate-lines --sort-by size -r ./
</code></pre>
</li>
<li>
<p><strong>Directory analysis for large projects:</strong></p>
<pre><code class="language-bash"># Get overview of all subdirectories with statistics
rustree -d --apply-function dir-stats --show-size-bytes --sort-by custom -r ./large_project
</code></pre>
<p>This shows only directories (<code>-d</code>), applies statistics function, enables size collection, and sorts by the statistics output in reverse order (largest/most complex directories first).</p>
</li>
<li>
<p><strong>Analyze code organization:</strong></p>
<pre><code class="language-bash"># Count Rust files in each module directory
rustree --apply-function count-files --apply-include "*.rs" -d ./src

# Get comprehensive statistics for source directories only
rustree --apply-function dir-stats --apply-include "src*" --apply-include "lib*" ./workspace
</code></pre>
</li>
</ol>
<h2 id="metadata-aggregation-examples"><a class="header" href="#metadata-aggregation-examples">Metadata Aggregation Examples</a></h2>
<p>The summary report now automatically aggregates metadata values, providing totals for lines, words, sizes, and apply function outputs.</p>
<ol start="51">
<li>
<p><strong>Get comprehensive project statistics:</strong></p>
<pre><code class="language-bash">rustree --calculate-lines --calculate-words --show-size-bytes ./my_project
</code></pre>
<p>Output includes totals in the summary:</p>
<pre><code>my_project/
├── [   1024B] [L:  50] [W: 250] README.md
├── [   2048B] [L: 100] [W: 500] main.rs
└── src/
    ├── [   3072B] [L: 150] [W: 750] lib.rs
    └── [   1536B] [L:  75] [W: 375] util.rs

2 directories, 4 files, 375 total lines, 1,875 total words, 7.7 KB total
</code></pre>
</li>
<li>
<p><strong>Analyze large codebases with human-readable totals:</strong></p>
<pre><code class="language-bash">rustree --calculate-lines --depth 2 ./large_project
</code></pre>
<p>Automatically formats large numbers with thousand separators:</p>
<pre><code>large_project/
├── [L:12345] frontend/
├── [L: 8765] backend/
└── [L: 4321] docs/

4 directories, 156 files, 125,431 total lines
</code></pre>
</li>
<li>
<p><strong>Combine size analysis with directory statistics:</strong></p>
<pre><code class="language-bash">rustree --show-size-bytes --apply-function dir-stats ./project
</code></pre>
<p>Shows both individual file sizes and aggregated directory statistics:</p>
<pre><code>project/
├── [   512B] config.toml
├── [F: "3f,0d,1536B"] src/
│   ├── [  1024B] main.rs
│   └── [   512B] lib.rs
└── [F: "2f,0d,256B"] tests/
    ├── [  128B] test1.rs
    └── [  128B] test2.rs

3 directories, 5 files, 2.3 KB total, 1.8 KB total (from function)
</code></pre>
</li>
<li>
<p><strong>Quick project overview with multiple metadata types:</strong></p>
<pre><code class="language-bash">rustree --depth 1 --calculate-lines --calculate-words --show-size-bytes ./workspace
</code></pre>
<p>Perfect for getting a high-level overview of project complexity:</p>
<pre><code>workspace/
├── [  45.2 KB] [L:1200] [W:6000] frontend/
├── [  32.1 KB] [L: 900] [W:4500] backend/
├── [  12.8 KB] [L: 400] [W:2000] shared/
└── [   5.5 KB] [L: 150] [W: 750] docs/

5 directories, 87 files, 2,650 total lines, 13,250 total words, 95.6 KB total
</code></pre>
</li>
<li>
<p><strong>Compare module sizes in a Rust project:</strong></p>
<pre><code class="language-bash">rustree --depth 2 --show-size-bytes --filter-include "*.rs|*/" --sort-by size -r ./src
</code></pre>
<p>Shows Rust modules sorted by size with total calculations:</p>
<pre><code>src/
├── [  15.2 KB] core/
├── [  12.8 KB] utils/
├── [   8.4 KB] cli/
├── [   3.2 KB] main.rs
└── [   1.1 KB] lib.rs

4 directories, 45 files, 40.7 KB total
</code></pre>
</li>
<li>
<p><strong>Markdown output with metadata aggregation for documentation:</strong></p>
<pre><code class="language-bash">rustree --output-format markdown --calculate-lines --depth 2 ./api &gt; api_overview.md
</code></pre>
<p>Generates markdown with totals:</p>
<pre><code class="language-markdown"># ./api

* handlers/ 1250L
* models/ 800L
* routes/ 600L
* main.rs 150L

__2 directories, 25 files, 2,800 total lines total__
</code></pre>
</li>
</ol>
<p>Note: The enhanced summary report automatically detects which metadata types are being displayed and includes appropriate totals. No additional flags are needed - the aggregation happens automatically when metadata options like <code>--calculate-lines</code>, <code>--calculate-words</code>, or <code>--show-size-bytes</code> are used.</p>
<h2 id="tree-diff-examples"><a class="header" href="#tree-diff-examples">Tree Diff Examples</a></h2>
<p>RusTree includes powerful directory comparison capabilities to track changes over time. These examples show how to use the diff feature for various workflows.</p>
<h3 id="basic-diff-operations"><a class="header" href="#basic-diff-operations">Basic Diff Operations</a></h3>
<ol start="57">
<li>
<p><strong>Create a baseline snapshot and compare current state:</strong></p>
<pre><code class="language-bash"># Save current state as baseline
rustree --output-format json &gt; baseline.json

# Later, after making changes, compare with baseline
rustree --diff baseline.json
</code></pre>
</li>
<li>
<p><strong>Compare two specific snapshots:</strong></p>
<pre><code class="language-bash"># Compare two saved snapshots
rustree --diff new_snapshot.json --from-tree-file old_snapshot.json
</code></pre>
</li>
<li>
<p><strong>Diff with output formatting:</strong></p>
<pre><code class="language-bash"># Text output (default) - shows tree structure with change markers
rustree --diff baseline.json

# Markdown format for documentation
rustree --diff baseline.json --output-format markdown &gt; changes.md

# JSON format for programmatic processing
rustree --diff baseline.json --output-format json &gt; diff_report.json

# HTML format for interactive viewing
rustree --diff baseline.json --output-format html &gt; diff_report.html
</code></pre>
</li>
</ol>
<h3 id="development-workflow-monitoring"><a class="header" href="#development-workflow-monitoring">Development Workflow Monitoring</a></h3>
<ol start="60">
<li>
<p><strong>Track changes during feature development:</strong></p>
<pre><code class="language-bash"># Save snapshot before starting feature
rustree --output-format json &gt; feature-start.json

# After development, see what changed
rustree --diff feature-start.json --filter-include "src/**" "tests/**"

# Focus on specific file types
rustree --diff feature-start.json --filter-include "*.rs" --show-size-bytes
</code></pre>
</li>
<li>
<p><strong>Monitor build artifact generation:</strong></p>
<pre><code class="language-bash"># Snapshot before build
rustree --output-format json &gt; pre-build.json

# Compare after build to see what was generated
rustree --diff pre-build.json --filter-include "target/**" --show-size-bytes --human-friendly
</code></pre>
</li>
<li>
<p><strong>Track refactoring changes:</strong></p>
<pre><code class="language-bash"># Before refactoring
rustree --filter-include "src/**" --output-format json &gt; before-refactor.json

# After refactoring - understand structural changes
rustree --diff before-refactor.json src/ --show-moves-only --move-threshold 0.9
</code></pre>
</li>
</ol>
<h3 id="code-review-and-analysis"><a class="header" href="#code-review-and-analysis">Code Review and Analysis</a></h3>
<ol start="63">
<li>
<p><strong>Diff with LLM analysis for code review:</strong></p>
<pre><code class="language-bash"># Analyze structural changes with AI
rustree --diff feature-branch.json \
  --llm-ask "Summarize the structural changes and their impact" \
  --llm-provider anthropic

# Focus on specific concerns
rustree --diff baseline.json \
  --filter-include "*.rs" \
  --llm-ask "Are there any potential security or performance concerns in these changes?"
</code></pre>
</li>
<li>
<p><strong>Generate change reports for team review:</strong></p>
<pre><code class="language-bash"># Comprehensive markdown report
rustree --diff sprint-start.json \
  --output-format markdown \
  --show-size-bytes \
  --show-last-modified &gt; sprint-changes.md

# Export for external analysis tools
rustree --diff baseline.json \
  --llm-export "Analyze code quality impact of these changes" &gt; review-prompt.txt
</code></pre>
</li>
</ol>
<h3 id="move-detection-and-rename-tracking"><a class="header" href="#move-detection-and-rename-tracking">Move Detection and Rename Tracking</a></h3>
<ol start="65">
<li>
<p><strong>Track file moves and renames:</strong></p>
<pre><code class="language-bash"># Default move detection (80% similarity threshold)
rustree --diff old-structure.json

# Strict move detection - only very similar files
rustree --diff old-structure.json --move-threshold 0.95

# Loose move detection - catch more potential moves
rustree --diff old-structure.json --move-threshold 0.5

# Disable move detection - treat moves as separate add/remove
rustree --diff old-structure.json --ignore-moves
</code></pre>
</li>
<li>
<p><strong>Focus on move analysis:</strong></p>
<pre><code class="language-bash"># Show only moved/renamed files
rustree --diff restructure-before.json --show-only moved

# Show moves with detailed similarity scores
rustree --diff restructure-before.json --output-format json | jq '.changes[] | select(.change_type == "moved")'
</code></pre>
</li>
</ol>
<h3 id="system-administration-and-monitoring"><a class="header" href="#system-administration-and-monitoring">System Administration and Monitoring</a></h3>
<ol start="67">
<li>
<p><strong>Monitor configuration directories:</strong></p>
<pre><code class="language-bash"># Daily configuration monitoring
rustree --output-format json /etc &gt; daily-etc-$(date +%Y%m%d).json

# Compare with previous day
rustree --diff daily-etc-$(date -d yesterday +%Y%m%d).json /etc \
  --show-last-modified \
  --sort-by mtime
</code></pre>
</li>
<li>
<p><strong>Track system changes over time:</strong></p>
<pre><code class="language-bash"># Monitor important system directories
rustree --diff system-baseline.json /etc /opt /usr/local \
  --filter-exclude "*.log" "*.tmp" \
  --show-size-bytes

# Focus on recently changed files
rustree --diff yesterday.json \
  --sort-by mtime \
  --show-last-modified \
  --dirs-first
</code></pre>
</li>
</ol>
<h3 id="advanced-diff-filtering"><a class="header" href="#advanced-diff-filtering">Advanced Diff Filtering</a></h3>
<ol start="69">
<li>
<p><strong>Diff with complex filtering:</strong></p>
<pre><code class="language-bash"># Compare only source code changes
rustree --diff baseline.json \
  --filter-include "*.rs" "*.toml" "*.md" \
  --filter-exclude "**/target/**" \
  --depth 5

# Use pattern files for consistent filtering
echo "*.rs" &gt; src-patterns.txt
echo "*.md" &gt;&gt; src-patterns.txt
echo "target/" &gt; ignore-patterns.txt

rustree --diff baseline.json \
  --filter-include-from src-patterns.txt \
  --filter-exclude-from ignore-patterns.txt
</code></pre>
</li>
<li>
<p><strong>Size-based change analysis:</strong></p>
<pre><code class="language-bash"># Focus on size changes
rustree --diff baseline.json \
  --show-size-bytes \
  --human-friendly \
  --sort-by size \
  --reverse-sort

# Track large file additions
rustree --diff baseline.json \
  --show-only added \
  --show-size-bytes \
  --sort-by size \
  --reverse-sort
</code></pre>
</li>
</ol>
<h3 id="diff-output-customization"><a class="header" href="#diff-output-customization">Diff Output Customization</a></h3>
<ol start="71">
<li>
<p><strong>Customize diff display:</strong></p>
<pre><code class="language-bash"># Show unchanged files for complete picture
rustree --diff baseline.json --show-unchanged

# Statistics only - no detailed tree
rustree --diff baseline.json --stats-only

# Specific change types only
rustree --diff baseline.json --show-only added,removed
rustree --diff baseline.json --show-only modified,type_changed
</code></pre>
</li>
<li>
<p><strong>Combine diff with existing features:</strong></p>
<pre><code class="language-bash"># Diff with line count analysis
rustree --diff baseline.json \
  --calculate-lines \
  --filter-include "*.rs" \
  --sort-by lines \
  --reverse-sort

# Diff with full metadata
rustree --diff baseline.json \
  --show-size-bytes \
  --show-last-modified \
  --calculate-lines \
  --human-friendly \
  --full-path
</code></pre>
</li>
</ol>
<h3 id="automation-and-scripting"><a class="header" href="#automation-and-scripting">Automation and Scripting</a></h3>
<ol start="73">
<li>
<p><strong>Automated change detection scripts:</strong></p>
<pre><code class="language-bash">#!/bin/bash
# Daily change monitoring script

DATE=$(date +%Y%m%d)
YESTERDAY=$(date -d yesterday +%Y%m%d)
PROJECT_DIR="/path/to/project"

# Generate today's snapshot
rustree --output-format json "$PROJECT_DIR" &gt; "snapshot-$DATE.json"

# Compare with yesterday if exists
if [ -f "snapshot-$YESTERDAY.json" ]; then
    echo "Changes since yesterday:"
    rustree --diff "snapshot-$YESTERDAY.json" "$PROJECT_DIR" \
      --filter-exclude "*.log" "*.tmp" \
      --show-size-bytes
fi
</code></pre>
</li>
<li>
<p><strong>CI/CD integration example:</strong></p>
<pre><code class="language-bash"># In CI pipeline - detect structural changes
rustree --output-format json &gt; "build-$BUILD_NUMBER.json"

if [ -f "baseline.json" ]; then
    # Generate change report
    rustree --diff baseline.json \
      --output-format markdown \
      --filter-include "src/**" "tests/**" &gt; changes.md
    
    # Check for significant changes
    CHANGES=$(rustree --diff baseline.json --stats-only | grep "files added\|files removed" | wc -l)
    if [ "$CHANGES" -gt 0 ]; then
        echo "Structural changes detected - review required"
    fi
fi
</code></pre>
</li>
</ol>
<h3 id="troubleshooting-and-edge-cases"><a class="header" href="#troubleshooting-and-edge-cases">Troubleshooting and Edge Cases</a></h3>
<ol start="75">
<li>
<p><strong>Handle large directories efficiently:</strong></p>
<pre><code class="language-bash"># Use depth limits for large projects
rustree --diff baseline.json --depth 3

# Focus on specific subdirectories
rustree --diff baseline.json src/ tests/

# Use filtering to reduce scope
rustree --diff baseline.json \
  --filter-include "*.rs" \
  --filter-exclude "**/target/**" \
  --prune-empty-directories
</code></pre>
</li>
<li>
<p><strong>Debug diff issues:</strong></p>
<pre><code class="language-bash"># Verify snapshot contents
rustree --output-format json . | jq '.nodes | length'

# Check path normalization
rustree --diff baseline.json --full-path

# Test move detection settings
rustree --diff baseline.json --move-threshold 0.1  # Very loose
rustree --diff baseline.json --ignore-moves        # Disable completely
</code></pre>
</li>
</ol>
<p>These examples demonstrate the flexibility and power of RusTree's diff functionality for various use cases from development monitoring to system administration. The diff feature integrates seamlessly with all existing RusTree options for filtering, formatting, and analysis.</p>
<p>These examples cover common use cases. Combine options as needed to achieve your desired output! Remember to use <code>rustree --help</code> for a full list of options.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../cli_usage/options.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../configuration_files.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../cli_usage/options.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../configuration_files.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
